<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Geocoding Information</title>
    <link rel="StyleSheet" href="css/Geocoding.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">Geocoding Information</div>
    <hr align="left" />
    <blockquote>
      <div class="Heading1"><a name="1257319">Geocoding Information</a></div>
      <div class="Text"><a name="1258597">An ECW or JPEG 2000 compressed image file can contain embedded </a>geocoding information. This information can be retrieved when the image is decompressed. Geocoding provides a georeference, indicating where the image is geographically located. Geocoding enables compressed ECW or JPEG 2000 files to form mosaics of very large images. The geocoding information consists of the components described in the following sections. </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258608">Datum.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258609">Projection. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258610">Units. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258611">Registration point. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Subhead1"><a name="1258599">Datum</a></div>
      <div class="Text"><a name="1258624">The datum represents a mathematical approximation of the shape of earth's </a>surface at a specified location. Common datums are:</div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258631">North American Datum (NAD27 and NAD83).</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1260716">Geocentric Datum of Australia (GDA94).</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258635">World Geodetic System (WGS72 and WGS84).</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Subhead1"><a name="1258600">Projection </a></div>
      <div class="Text"><a name="1258594">A map projection is the mathematical function used to plot a point on an </a>ellipsoid on to a plane sheet of paper. There are probably 20 or 30 different types of map projections commonly used. These try to preserve different characteristics of the geometry of the earth's surface. The following is a list of common projection types: </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258716">Albers Equal Area.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258740">Azimuthal Equidistant.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258742">Conic Equidistant.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258744">Lambert Conformal Conic.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258746">Modified Polyconic.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258749">Mollweide.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258751">Mercator.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258753">Regular Polyconic.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258761">Sinusoidal.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258772">Stereographic.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258782">Transverse Mercator.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="RTip"><a name="1258789">Van der Grinten. </a></div>
      <div class="Subhead1"><a name="1258718">Units </a></div>
      <div class="Text"><a name="1258714">The measurement units are usually set for the specific projection. They can be: </a></div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258802">Meters.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258803">Feet (US survey feet where 1 meter = 39.37 inches, or 1 foot = </a>0.30480061 meters).</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1258804">Degrees Latitude/Longitude. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="RTip1">
        <img src="tipbullet.png" alt="*" border="0" width="15" height="24" /><a name="1258726">The default setting for RAW images, i.e those that do not contain </a>geocoding information, is meters. </div>
      <div class="Subhead1"><a name="1258827">Registration Point </a></div>
      <div class="Text"><a name="1258830">The projection, datum and units information tell us the shape of and the area </a>covered by the image, but they do not show where it is located. To convey this information we require a single registration point with world coordinates on the image. For all ECW compressed images this registration point is the origin or top left corner of the top left cell (0,0). The following diagram shows the (0,0) position of the registration point in an image. </div>
      <div class="StepContinue"><a name="1258854"><img class="Default" src="images/Geocoding.7.1.1.png" width="529" height="504" style="display: block; float: none; left: 0.0; top: 0.0" alt="" /></a></div>
      <div class="Text"><a name="1258850">Not all images have their registration point at the top left cell (0,0), as required </a>by the ECW format. Given the cell sizes and the actual reference point it is possible to calculate the world coordinates at point (0,0).</div>
      <div class="Text"><a name="1258848">For example, consider an image that has a registration point at cell (5,6) with </a>world coordinates (480E, 360N). If the X and Y cell size is 1 meter, the world coordinates at cell (0,0) will be (480-5)E, (360+6)N, i.e. (475E, 366N). </div>
      <div class="Subhead1"><a name="1258814">Geodetic Transform Database </a></div>
      <div class="Text"><a name="1258809">The Geodetic Transform Database package (known as GDT), can be used to </a>perform all coordinate transformations. This includes calculations of easting/northing from latitude/longitude, and the reverse, for a point with a given map projection and datum. GDT provides projection parameters and all mathematical software to perform the transform calculations. </div>
      <div class="Subhead1"><a name="1258891">GDT File Formats </a></div>
      <div class="Text"><a name="1258912">The GDT database stores all associated files in the runtime/GDT_DATA </a>directory. The files in this directory define all the datums and projections known to the SDK. These definition files are plain text ASCII format, with the .dat file extension. Data files in the GDT_DATA<span style="font-weight: bold"> </span>directory have a similar format.</div>
      <div class="Text"><a name="1258923">There is one logical record per line in the file. The first line of the file is an </a>information line, describing the contents of each field in the file. For example, the first line of the file mercator.dat: </div>
      <div class="Code"><a name="1258933">proj_name, false_north, false_east, scale_factor, </a>centre_merid </div>
      <div class="Text"><a name="1258957">This line tells us there are 5 fields in each record; the Projection Name </a>(<span class="Computer">proj_name</span>), the False Northing (<span class="Computer">false_north</span>), the False Easting (<span class="Computer">false_east</span>), the Scale Factor (<span class="Computer">scale_factor</span>), and the Central Meridian (<span class="Computer">centre_merid</span>). </div>
      <div class="Text"><a name="1258942">The GDT database stores angular values as expressed in radians. For </a>example, the first data record (found on the second line of the file) of the file mercator.dat:</div>
      <div class="Code"><a name="1258966">MR1630N, 1000000.0, 1000000.0, 0.959078718808146,\</a><br />0.692313937206194 </div>
      <div class="Text"><a name="1258968">This line tells us that the central meridian for projection MR1630N is </a>0.692313937206194 radians, which is equal to:</div>
      <div class="Text"><a name="1258979">(0.692313937206194 x 180) / PI = 39.6666666 degrees = 39 degrees 40 </a>minutes East. </div>
      <div class="Subhead1"><a name="1259011">How the ECW JPEG2000 SDK Reads Geocoding Information</a></div>
      <div class="Text"><a name="1259012">The SDK represents registration, projection and datum information internally </a>using fields in the <span class="Computer">NCSFileViewFileInfoEx</span><span style="color: #0000ff"> </span>structure. These include the world coordinates of the raster origin, the size of dataset cells in world units, the type of linear units used, the rotation of the raster dataset in degrees (shear transformations are unsupported) and the ER Mapper style projection and datum strings. </div>
      <div class="Subhead2"><a name="1259013">Embedded Geography Markup Language (GML) Metadata </a></div>
      <div class="Text"><a name="1279751">The Geography Markup Language (GML) is a set of XML schemas for </a>recording and transferring geographic data. GML has been developed by the OpenGIS Consortium in consultation with members and the International Standards Organization. The JPEG 2000 working group have discussed a standard for storing OGC Geography Markup Language (GML) inside a JPEG 2000 file XML box. This standard defines GML metadata in a JPEG 2000 compatible JPX file with a .jp2 file extension. </div>
      <div class="Text"><a name="1259904">A standard feature flag set at a value of 67 should signal the use of GML. This </a>geolocating method requires a minimal set of GML to locate a JPEG 2000 image. A <span class="Computer">JPEG 2000_GeoLocation</span> XML element stores the JPEG 2000 geolocation information. While the XML box may also contain additional GML elements, the first element must be the <span class="Computer">JPEG 2000_GeoLocation</span>. There may also be additional XML boxes, containing additional XML elements. In any case, the decoder will use the first <span class="Computer">JPEG 2000_GeoLocation</span> GML element found in the file. </div>
      <div class="Text"><a name="1259074">The </a><span class="Computer">JPEG2000_GeoLocation</span><span style="color: #0000ff"> </span>element contains a <span class="Computer">RectifiedGrid</span><span style="color: #0000ff"> </span>construct. The <span class="Computer">RectifiedGrid</span><span style="color: #0000ff"> </span>has an id attribute of <span class="Computer">JPEG2000_Geolocation_1</span>, with a dimension attribute equal to 2.</div>
      <div class="Text"><a name="1259108">The standard requires an origin element, with an id attribute of </a><span class="Computer">JPEG2000_Origin</span>. The point attribute specifies the coordinate of the bottom-left corner of the bottom-left cell in the image. The <span class="Computer">srcName</span> attribute is an immediate EPSG code (recommended). Where an existing EPSG code is not available, <span class="Computer">srsName</span><span style="color: #0000ff"> </span>refers to a full <span class="Computer">SpatialReferenceSystem</span><span style="color: #0000ff"> </span>element definition within the same JPEG 2000 XML box. </div>
      <div class="Text"><a name="1259107">A pair of </a><span class="Computer">offsetVector</span><span style="color: #0000ff"> </span>elements defines the vertical and horizontal cell step vectors. These vectors can include a rotation, but cannot include a shear. </div>
      <div class="Text"><a name="1259110">Conformant readers will ignore any other elements found within a </a><span class="Computer">JPEG2000_GeoLocation</span><span style="color: #0000ff"> </span>element. The GML specification is available for reference at: <span class="GotoLink" style="font-size: 9.0pt"><a href="http://www.opengis.org/">http://www.opengis.org/</a></span><span style="font-weight: bold"> </span></div>
      <div class="Subhead2"><a name="1259039">GML Examples </a></div>
      <div class="Text"><a name="1258887">The following JPEG 2000_GeoLocation GML refers to a JPEG 2000 file with </a>an EPSG code of 32610 (PCS_WGS84_UTM_zone_10N), origin 631333.108344E, 4279994.858126N, a cell size of X=4 and Y=4, and a 0.0 rotation.</div>
      <div class="Code"><a name="1259126">&lt;?xml version=”1.0” encoding=”UTF-8”?&gt; </a></div>
      <div class="Code"><a name="1259135">&lt;JPEG 2000_GeoLocation&gt; </a></div>
      <div class="Code"><a name="1259136">	</a>&lt;gml:RectifiedGrid </div>
      <div class="Code"><a name="1260580">	</a>xmlns:gml=”http://www.opengis.net/gml” gml:id=” </div>
      <div class="Code"><a name="1260581">	</a>JPEG\2000_GeoLocation _1” dimension=”2”&gt; </div>
      <div class="Code"><a name="1259137">	</a>	&lt;gml:origin&gt; </div>
      <div class="Code"><a name="1259139">	</a>		&lt;gml:Point gml:id=”JPEG </div>
      <div class="Code"><a name="1260582">	</a>		2000_Origin”\srsName=”epsg:32610”&gt;</div>
      <div class="Code"><a name="1260583">	</a>				&lt;gml:coordinates&gt;631333.108344,</div>
      <div class="Code"><a name="1259143">	</a>				4279994.858126&lt;/gml:coordinates&gt; </div>
      <div class="Code"><a name="1259145">	</a>		&lt;/gml:Point&gt; </div>
      <div class="Code"><a name="1259146">	</a>	&lt;/gml:origin&gt; </div>
      <div class="Code"><a name="1259147">	</a>	&lt;gml:offsetVector</div>
      <div class="Code"><a name="1260598">	</a>	gml:id=”p1”&gt;0.0,4.0,0.0&lt;/gml:offsetVector&gt; </div>
      <div class="Code"><a name="1259149">	</a>	&lt;gml:offsetVector</div>
      <div class="Code"><a name="1260599">	</a>	gml:id=”p2”&gt;4.0,0.0,0.0&lt;/gml:offsetVector&gt;</div>
      <div class="Code"><a name="1259151">	</a>&lt;/gml:RectifiedGrid&gt; </div>
      <div class="Code"><a name="1259153">&lt;/JPEG 2000_GeoLocation&gt; </a></div>
      <div class="Text"><a name="1259131">The following </a><span class="Computer">JPEG 2000_GeoLocation GML</span> refers to a JPEG 2000 file with an EPSG code of 32610 (PCS_WGS84_UTM_zone_10N), origin 631333.108344E, 4279994.858126N, a cell size of X=4 and Y=4, and a rotation of 20.0 degrees clockwise. </div>
      <div class="Code"><a name="1259154">&lt;?xml version=”1.0” encoding=”UTF-8”?&gt;</a></div>
      <div class="Code"><a name="1259158">&lt; JPEG 2000_GeoLocation &gt; </a></div>
      <div class="Code"><a name="1259160">	</a>&lt;gml:RectifiedGrid </div>
      <div class="Code"><a name="1260600">	</a>xmlns:gml=”http://www.opengis.net/gml” gml:id=” 		</div>
      <div class="Code"><a name="1260601">	</a>JPEG 2000_GeoLocation _1” dimension=”2”&gt; </div>
      <div class="Code"><a name="1259161">	</a>	&lt;gml:origin&gt; </div>
      <div class="Code"><a name="1259162">	</a>		&lt;gml:Point gml:id=”JPEG 2000_Origin” </div>
      <div class="Code"><a name="1260608">	</a>		srsName=”epsg:32610”&gt;</div>
      <div class="Code"><a name="1259163">	</a>			&lt;gml:coordinates&gt;631333.108344, </div>
      <div class="Code"><a name="1260602">	</a>			4279994.858126&lt;/gml:coordinates&gt;</div>
      <div class="Code"><a name="1259167">	</a>		&lt;/gml:Point&gt;</div>
      <div class="Code"><a name="1259176">	</a>	&lt;/gml:origin&gt;</div>
      <div class="Code"><a name="1259178">	</a>	&lt;gml:offsetVector </div>
      <div class="Code"><a name="1260603">	</a>	gml:id=”p1”1.3680805733037027,</div>
      <div class="Code"><a name="1260604">	</a>	3.7587704831464577,0.0&lt;/gml:offsetVector&gt;</div>
      <div class="Code"><a name="1259181">	</a>	&lt;gml:offsetVector </div>
      <div class="Code"><a name="1260605">	</a>	gml:id=”p2”&gt;3.7587704831464577,</div>
      <div class="Code"><a name="1260606">	</a>	-1.3680805733037027,0.0&lt;/gml:offsetVector&gt; </div>
      <div class="Code"><a name="1259184">	</a>&lt;/gml:RectifiedGrid&gt; </div>
      <div class="Code"><a name="1259185">&lt;/JPEG 2000_GeoLocation&gt;</a></div>
      <div class="Text"><a name="1259186">The equivalent registration using a .jpw world file would be:</a></div>
      <div class="Code"><a name="1259203">3.7587704831464577 </a></div>
      <div class="Code"><a name="1259207">1.3680805733037027 </a></div>
      <div class="Code"><a name="1259208">1.3680805733010719 </a></div>
      <div class="Code"><a name="1259209">-3.7587704831392297 </a></div>
      <div class="Code"><a name="1259210">631335.1083436138 </a></div>
      <div class="Code"><a name="1259211">4279992.8581256131</a></div>
      <div class="Text"><a name="1259205">The following example C code demonstrates how to output a complete </a><span class="Computer">JPEG </span><span class="Computer">2000_GeoLocation </span>GML stream, given an upper-left image registration point, x and y cell sizes, rotation angle and image dimensions. Note that the registration point is the top-left corner of the top-left cell. </div>
      <div class="Code"><a name="1259215">#define Deg2Rad(x) (x * M_PI / 180.0) </a></div>
      <div class="Code"><a name="1259216">void OutputJPEG2000_GeoLocation(FILE *pFile, </a></div>
      <div class="Code"><a name="1259217">	</a>	UINT32 nEPSGCode, </div>
      <div class="Code"><a name="1259218">	</a>	double dRegistrationX, </div>
      <div class="Code"><a name="1259226">	</a>	double dRegistrationY, </div>
      <div class="Code"><a name="1259227">	</a>	double dCellSizeX, </div>
      <div class="Code"><a name="1259228">	</a>	double dCellSizeY, </div>
      <div class="Code"><a name="1259229">	</a>	double dCWRotationDegrees, </div>
      <div class="Code"><a name="1259230">	</a>	UINT32 nImageWidth, </div>
      <div class="Code"><a name="1259231">	</a>	UINT32 nImageHeight)</div>
      <div class="Code"><a name="1259232">{</a></div>
      <div class="Code"><a name="1259234">	</a>double p1[] = { (sin(Deg2Rad(dCWRotationDegrees)) *</div>
      <div class="Code"><a name="1260038">	</a>	dCellSizeX), (cos(Deg2Rad(dCWRotationDegrees)) * </div>
      <div class="Code"><a name="1260040">	</a>	dCellSizeY), 0.0 };</div>
      <div class="Code"><a name="1259235">	</a>double p2[] = { (cos(Deg2Rad(dCWRotationDegrees)) *</div>
      <div class="Code"><a name="1260041">	</a>	dCellSizeX), -(sin(Deg2Rad(dCWRotationDegrees))</div>
      <div class="Code"><a name="1260268">	</a>	*</div>
      <div class="Code"><a name="1260043">	</a>	dCellSizeY), 0.0 };</div>
      <div class="Code"><a name="1259243">	</a>fprintf(pFile, “&lt;?xml version=\”1.0\” </div>
      <div class="Code"><a name="1260048">	</a>encoding=\”UTF-8\”?&gt;\r\n”);</div>
      <div class="Code"><a name="1259255">	</a>fprintf(pFile, “&lt;JPEG 2000_GeoLocation&gt;\r\n”);</div>
      <div class="Code"><a name="1259263">	</a>fprintf(pFile, “ &lt;gml:RectifiedGrid </div>
      <div class="Code"><a name="1260049">	</a>xmlns:gml=\”http://www.opengis.net/gml”” </div>
      <div class="Code"><a name="1260050">	</a>“gml:id=\”JPEG 2000_GeoLocation_1\” </div>
      <div class="Code"><a name="1260051">	</a>dimension=\”2\”&gt;\r\n”); </div>
      <div class="Code"><a name="1259265">	</a>fprintf(pFile, “ &lt;gml:origin&gt;\r\n”); fprintf(pFile, “ &lt;gml:Point gml:id=\”JPEG 2000_Origin\” </div>
      <div class="Code"><a name="1260052">	</a>srsName=\”epsg:%ld\”&gt;\r\ n”, nEPSGCode);</div>
      <div class="Code"><a name="1260065">	</a>fprintf(pFile, “ </div>
      <div class="Code"><a name="1260128">	</a>&lt;gml:coordinates&gt;%lf,%lf&lt;/gml:coordinates&gt;\r\n”, </div>
      <div class="Code"><a name="1260141">	</a>dRegistrationX - nImageHeight * p1[0], </div>
      <div class="Code"><a name="1260154">	</a>dRegistrationY - nImageHeight * p1[1]); 	</div>
      <div class="Code"><a name="1260167">	</a>fprintf(pFile, “ &lt;/gml:Point&gt;\r\n”);</div>
      <div class="Code"><a name="1259268">	</a>fprintf(pFile, “ &lt;/gml:origin&gt;\r\n”);</div>
      <div class="Code"><a name="1259270">	</a>fprintf(pFile, “ &lt;gml:offsetVector </div>
      <div class="Code"><a name="1260180">	</a>gml:id=\”p1\”&gt;%lf,%lf,%lf&lt;/gml:offsetVector&gt;\ r\n”, </div>
      <div class="Code"><a name="1260193">	</a>p1[0], p1[1], p1[2]); </div>
      <div class="Code"><a name="1259272">	</a>fprintf(pFile, “ &lt;gml:offsetVector </div>
      <div class="Code"><a name="1260206">	</a>gml:id=\”p2\”&gt;%lf,%lf,%lf&lt;/gml:offsetVector&gt;\ r\n”, </div>
      <div class="Code"><a name="1260219">	</a>p2[0], p2[1], p2[2]); </div>
      <div class="Code"><a name="1259273">	</a>fprintf(pFile, “ &lt;/gml:RectifiedGrid&gt;\r\n”);</div>
      <div class="Code"><a name="1259274">	</a>fprintf(pFile, “&lt;/JPEG 2000_GeoLocation&gt;\r\n”); </div>
      <div class="Code"><a name="1259276">}</a></div>
      <div class="Text"><a name="1259315">When the SDK opens a JPEG 2000 file containing GML metadata in the format </a>above, the georeferencing information is automatically translated into the components of an <span class="Computer">NCSFileViewFileInfoEx</span><span style="color: #0000ff"> </span>data structure which can be queried from the open file using <span class="Computer">NCScbmGetViewFileInfoEx</span><span style="color: #0000ff"> </span>(via the C API) or <span class="Computer">CNCSFile::GetFileInfo</span><span style="color: #0000ff"> </span>(via the C++ API). The GML data itself is not exposed to the application programmer. </div>
      <div class="Subhead2"><a name="1259282">Embedded GeoTIFF Metadata </a></div>
      <div class="Text"><a name="1259331">Another proposed standard for embedding georeferencing information is to </a>place a degenerate GeoTIFF file in a JPEG 2000 UUID box. This standard was originally proposed under the name GeoJP2 by Mapping Science, Inc. </div>
      <div class="Text"><a name="1259342">GeoTIFF is a well established standard for embedding georeferencing </a>information in TIFF (Tagged Image File Format) using header tags, which in turn index a further level of metadata stored in <span class="Computer">GeoKeys</span>. Linear map units, projection and datum information, pixel scales, coordinate transformations and dataset tie points are all examples of the kind of information that can be stored in a GeoTIFF file. </div>
      <div class="Text"><a name="1259346">The SDK supports the reading of georeferencing information from a JPEG </a>2000 file stored in a UUID header box in the form of a degenerate 1 x 1 GeoTIFF file. The information is processed into ER Mapper style projection, datum, linear units and registration information. The table below indicates which GeoTIFF tags and <span class="Computer">GeoKeys</span> are supported by the SDK. </div>
      <div class="Flag"><a name="1259283">Supported GeoTIFF tags: </a></div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><span class="Computer"><a name="1259347">ModelTiePoint, </a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><span class="Computer"><a name="1260270">ModelPixelScale, </a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><span class="Computer"><a name="1260279">ModelTransformation,</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><span class="Computer"><a name="1260288">m GeoKeyDirectory, </a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><span class="Computer"><a name="1260297">Geo-ASCIIParams, </a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><span class="Computer"><a name="1260304">GeoDoubleParams. </a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Flag"><a name="1259284">Supported GeoTIFF GeoKeys: </a></div>
      <div class="Code"><a name="1259357">GTRasterType, GTModelType, GeographicType, </a>ProjectedCSType, GeogLinearUnits, ProjLinearUnits </div>
      <div class="Text"><a name="1259370">After the SDK opens a JPEG 2000 file which contains an embedded GeoTIFF </a>file, the processed georeferencing information is not available to the SDK user in GeoTIFF format, but can instead be queried from an <span class="Computer">NCSFileViewFileInfoEx</span><span style="color: #0000ff"> </span>structure obtained from a call to <span class="Computer">NCScbmGetViewFileInfoEx</span><span style="color: #0000ff"> </span>in the C API or to <span class="Computer">CNCSFile::GetFileInfo</span><span style="color: #0000ff"> </span>in the C++ API. </div>
      <div class="Subhead2"><a name="1259285">Support for World Files </a></div>
      <div class="Text"><a name="1259277">The SDK also supports image registration information for a JPEG 2000 file, </a>stored as the matrix elements of an affine transformation in a six-valued world file located in the same directory as the input JPEG 2000 file. </div>
      <div class="Text"><a name="1259423">These world files are a widely accepted standard for storing the geographic </a>registration of an image. </div>
      <div class="Text"><a name="1259433">The format of a world file is usually:</a></div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1259434">X scaling factor.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1259435">Y rotation factor. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1259436">X rotation factor. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1259438">Y scaling factor. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1259437">X translation value. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1259439">Y translation value. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Text"><a name="1259440">Where the values are floating point numbers expressed in decimal format. </a>Whilst the SDK makes some allowances for processing JPEG 2000 world files with variations on this format if you are experiencing problems with world file processing it is advisable to use a text editor to edit the file so it has the form above. </div>
      <div class="Text"><a name="1259450">The six values provide the SDK with enough information to derive a rotation </a>value, dataset cell sizes in world linear units, and a single registration point for the image. These can be queried from an <span class="Computer">NCSFileViewFileInfoEx</span><span style="color: #0000ff"> </span>structure (obtained in the same way as above in the sections on GML and GeoTIFF metadata). </div>
      <div class="Text"><a name="1259451">World files are named according to a comparatively strict convention where the </a>name of the file is the same as that of the image file for which it provides registration information, except that its 3 character extension is constructed by taking the first and third characters from that of the image file and appending the character <span class="Italic">w</span>. The SDK only supports world files in tandem with JPEG 2000 files with file extension .jp2, .jpx, or .jpf, and these cases respectively correspond to world files with file extension .j2w, .jxw, and .jfw. You may need to rename world files produced by third party applications in order to meet this requirement. </div>
      <div class="Subhead2"><a name="1259426">Configuring the Use of Geocoding Data for JPEG 2000 Files </a></div>
      <div class="Text"><a name="1259421">Given that there are three forms of geographic metadata supported by the </a>SDK, some attention has been given allowing the application developer to configure which metadata is processed on input from a JPEG 2000 file or output to a JPEG 2000 file. Configuration is achieved using the <span class="Computer">CNCSFile::SetParameter()</span><span style="color: #0000ff"> </span>method. </div>
      <div class="Text"><a name="1259467">This method is used to configure many different aspects of SDK usage, but in </a>this case we are interested in the case where<span class="Computer"> eType</span><span style="color: #0000ff"> </span>has the value <span class="Computer">JP2_GEODATA_USAGE</span>. When this is the value of the first argument, there are sixteen valid values for the second argument <span class="Computer">nValue</span>: </div>
      <div class="Text"><a name="1259498">&nbsp;</a></div>
      <table class="Chart" style="text-align: left; width: 345.6pt" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1.5pt; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: middle; width: 172.8pt">
            <div class="CellHeadLeft"><a name="1259501">nValue </a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1.5pt; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: middle; width: 172.8pt">
            <div class="CellHeadLeft"><a name="1259503">Processing of geographic </a>metadata on file I/O </div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="Computer"><a name="1259505">JP2_GEODATA_USE_NONE </a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody"><a name="1259507">No processing of metadata.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="Computer"><a name="1259509">JP2_GEODATA_USE_WLD_ONLY </a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody"><a name="1259511">World file only.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="Computer"><a name="1259513">JP2_GEODATA_USE_GML_ONLY </a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody"><a name="1259515">GML header box only.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="Computer"><a name="1259517">JP2_GEODATA_USE_PCS_ONLY </a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody"><a name="1259519">GeoTIFF UUID box only.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="Computer"><a name="1259521">JP2_GEODATA_USE_WLD_GML </a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody"><a name="1259523">World file, then GML box.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="Computer"><a name="1259525">JP2_GEODATA_USE_WLD_PCS </a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody"><a name="1259527">World file, then GeoTIFF box.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="Computer"><a name="1259529">JP2_GEODATA_USE_GML_WLD </a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody"><a name="1259531">GML box, then world file.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="Computer"><a name="1259533">JP2_GEODATA_USE_GML_PCS </a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody"><a name="1259535">GML box, then GeoTIFF box.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="Computer"><a name="1259537">JP2_GEODATA_USE_PCS_WLD </a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody"><a name="1259539">GeoTIFF box, then world file.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="Computer"><a name="1259541">JP2_GEODATA_USE_PCS_GML </a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody"><a name="1259543">GeoTIFF box, then GML box.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="Computer"><a name="1259545">JP2_GEODATA_USE_WLD_GML_PC</a></span><span class="Computer">S </span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody"><a name="1259547">World file, then GML, then GeoTIFF. </a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="Computer"><a name="1259549">JP2_GEODATA_USE_WLD_PCS_GM</a></span><span class="Computer">L </span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody"><a name="1259551">World file, then GeoTIFF, then GML. </a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="Computer"><a name="1259553">JP2_GEODATA_USE_GML_WLD_PC</a></span><span class="Computer">S </span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody"><a name="1259555">GML, then world file, then GeoTIFF.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="Computer"><a name="1259557">JP2_GEODATA_USE_GML_PCS_WL</a></span><span class="Computer">D </span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody"><a name="1259559">GML, then GeoTIFF, then world file.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="Computer"><a name="1259561">JP2_GEODATA_USE_PCS_WLD_GM</a></span><span class="Computer">L </span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody"><a name="1259563">GeoTIFF, world file, then GML.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: #000000; border-left-style: solid; border-left-width: 1px; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="Computer"><a name="1259565">JP2_GEODATA_USE_PCS_GML_WL</a></span><span class="Computer">D </span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 4pt; padding-left: 6pt; padding-right: 6pt; padding-top: 6pt; vertical-align: top">
            <div class="CellBody"><a name="1259567">GeoTIFF, GML, then world file.</a></div>
          </td>
        </tr>
      </table>
      <div class="Text"><a name="1259712">The value chosen applies to processing both on opening any JPEG 2000 file </a>and on compressing to a new JPEG 2000 file, and once set will apply to other files opened or compressed during the execution of an SDK application. Where a precedence is established in configuration (e.g. for <span class="Computer">nValue</span><span style="color: #0000ff"> </span>equal to <span class="Computer">JP2_GEODATA_USE_WLD_GML_PCS</span>), on input the metadata available will be established and the existing metadata that appears first in the order of precedence will be used to the exclusion of any other metadata. </div>
      <div class="Text"><a name="1259724">On compression to JPEG 2000 output, all the currently configured types of </a>metadata are written (e.g. for <span class="Computer">nValue</span><span style="color: #0000ff"> </span>equal to <span class="Computer">JP2_GEODATA_USE_WLD_GML_PCS</span>, a world file will be written to the output directory, and GML and GeoTIFF header boxes will be written to the JPEG 2000 file). Because there is no explicit mapping between the data supported by each system of storing geographical information, there is no guarantee that the geographical metadata stored will be the same. </div>
      <div class="Text"><a name="1259725">Choosing to store georeferencing information in one case in a world file, and </a>in another in a GeoTIFF header box, may result in different interpretations of the stored information when the file is re-read by the SDK or by a third party application. It is up to the application developer to select the most appropriate use of geographical metadata for their SDK application. </div>
      <div class="Subhead2"><a name="1259749">EPSG Codes </a></div>
      <div class="Text"><a name="1259744">The SDK uses ER Mapper’s georeferencing system internally, in which </a>coordinate systems are specified using a pair of strings naming the projection and datum (e.g. projection <span class="Computer">NUTM11</span>, datum <span class="Computer">NAD27</span> for UTM Zone 11 using the North American Datum 1927). </div>
      <div class="Text"><a name="1259764">The European Petroleum Survey Group (EPSG) produces a database of </a>codes associated with particular geographical and projected coordinate systems, and these codes have been used in the GeoTIFF specification and also in various OGC specifications as a means of specifying the spatial reference of datasets.</div>
      <div class="Text"><a name="1259765">When the SDK writes JPEG 2000 files, it has the option of creating the GML </a>and GeoTIFF UUID (GeoJP2) header boxes. If the output data is spatially referenced by ER Mapper projection and datum strings, the SDK converts these strings to a corresponding EPSG code which is embedded in the GML or GeoJP2 header boxes, and can subsequently be re-read by ER Mapper and third party software. </div>
      <div class="Text"><a name="1259769">The mapping between ER Mapper projection and datum strings, and EPSG </a>codes, is not entirely one-to-one, so at times it may be necessary for you to specify specific codes manually. You can do this in one of two ways:</div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1259781">by using the shorthand value </a><span class="Computer">EPSG:&lt;code&gt;</span> in your output projection and datum strings, which will cause the value to be embedded in output JPEG 2000 files e.g.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Code"><a name="1259783">FileInfo.szProjection = "EPSG:32700"; </a></div>
      <div class="Code"><a name="1259785">FileInfo.szDatum = "EPSG:32700";</a></div>
      <div class="Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1259786">by creating a file called PcsKeyProjDatum.dat in which custom mappings </a>between projection and datum strings are stored. The lines in the file should have the format </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Code"><a name="1259788">&lt;code&gt;, &lt;projection string&gt;, &lt;datum string&gt;, &lt;notes and </a>comments&gt; </div>
      <div class="Text"><a name="1259789">where </a><span class="Computer">&lt;code&gt;</span> is the applicable PCS or GCS code, the projection and datum strings are those you wish to map to this code, and notes and comments allows you to briefly record the code's use,</div>
      <div class="Text"><a name="1260341">e.g. 32700, CUSTPROJ, CUSTDAT, output to our user-defined coordinate </a>system.</div>
      <div class="Text"><a name="1259797">Once you have created this file and the applicable content, you should submit </a>its path (without the file name) to your SDK application using either the <span class="Computer">NCSSetGDTPath</span><span style="color: #0000ff"> </span>or the <span class="Computer">CNCSFile::SetGDTPath</span><span style="color: #0000ff"> </span>calls, if your application uses the C or C++ APIs respectively.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <hr align="left" />
    <table align="left">
      <tr>
        <td class="WebWorks_Company_Logo_Bottom">
          <a href="http://www.erdas.com" target="none"><img src="ERDAS_big_logo.png" border="0" /></a>
        </td>
      </tr>
      <tr>
        <td class="WebWorks_Company_Phone_Bottom" style="font-family: Arial; font-size: 12px">Phone: +1 770 776 3400</td>
      </tr>
      <tr>
        <td class="WebWorks_Company_Fax_Bottom" style="font-family: Arial; font-size: 12px">Fax: +1 770 776 3500</td>
      </tr>
      <tr>
        <td class="WebWorks_Company_Email_Bottom" style="font-family: Arial; font-size: 12px">
          <a href="mailto:info@erdas.com">info@erdas.com</a>
        </td>
      </tr>
    </table>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>